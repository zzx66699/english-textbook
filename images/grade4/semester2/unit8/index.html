<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit 8 ç”µè„‘ä¸“ç”¨ç‰ˆ</title>
    <style>
        /* --- åŸºç¡€æ ·å¼ --- */
        :root { --pink: #ffdae0; --blue: #c0e8ff; --green: #d1f4e0; --yellow: #fff2cc; --text: #5d4037; --soft-white: #f5f5f5; --nav-bg: #ffffff; }
        body { font-family: "Comic Sans MS", "å¹¼åœ†", sans-serif; background: var(--soft-white); margin: 0; display: flex; flex-direction: column; align-items: center; color: var(--text); padding-bottom: 60px; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        /* é¡¶éƒ¨æ  */
        .top-bar { width: 96vw; max-width: 800px; background: var(--nav-bg); padding: 15px 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; align-items: center; border: 4px solid var(--green); border-top: none; border-radius: 0 0 20px 20px; position: sticky; top: 0; z-index: 200; box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        
        /* æŒ‰é’® */
        .nav-btn { background: var(--pink); border: 3px solid #fff; color: #d84315; padding: 8px 24px; border-radius: 25px; cursor: pointer; font-size: 16px; font-weight: 900; box-shadow: 0 4px 0 #ffab91; transition: all 0.1s; }
        .nav-btn:active { transform: translateY(4px); box-shadow: none; }
        .nav-btn:disabled { background: #eeeeee; box-shadow: none; color: #ccc; cursor: not-allowed; border-color:#eee;}
        
        /* é…ç½®é¡¹ */
        .config-item { display: flex; align-items: center; gap: 8px; font-size: 18px; font-weight: bold; }
        .icon-emoji { font-size: 28px; line-height: 1; }
        
        /* å£°éŸ³é€‰æ‹©æ¡† */
        select { border: 3px solid var(--blue); border-radius: 12px; padding: 8px 5px; font-size: 16px; font-weight: bold; color: #555; max-width: 140px; outline: none; background: #fff; }
        
        /* é¡µç  */
        .page-badge { background: var(--yellow); padding: 8px 20px; border-radius: 20px; color: #f9a825; font-weight: 900; font-size: 18px; border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        /* æ»‘å— */
        input[type=range] { transform: scale(1.2); margin: 0 5px; accent-color: var(--pink); cursor: pointer; }
        
        /* ä¹¦æœ¬å®¹å™¨ */
        .book-container { position: relative; width: 96vw; max-width: 800px; aspect-ratio: 780 / 1100; margin: 20px 0; background: #ffffff; border: 8px solid var(--green); border-radius: 20px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .page-img { width: 100%; height: 100%; position: absolute; top: 0; left: 0; object-fit: fill; }
        
        /* çƒ­ç‚¹åŒºåŸŸ */
        .hotspot { position: absolute; cursor: pointer; z-index: 10; border-radius: 8px; }
        .hotspot:active { background: rgba(255, 255, 0, 0.3); } 
        
        /* --- ç¿»è¯‘æ°”æ³¡ (ç¿»è¯‘ç½®é¡¶é€»è¾‘) --- */
        .trans-popup { 
            position: absolute; 
            background: rgba(255, 255, 255, 0.95); 
            border: 3px solid var(--pink); 
            border-radius: 15px; 
            padding: 10px 15px; 
            color: #d84315; 
            font-weight: bold; 
            font-size: 18px; 
            pointer-events: none; /* ç‚¹å‡»ç©¿é€ */
            z-index: 100; 
            transform: translateX(-50%); 
            display: none; 
            text-align: center; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
            min-width: 120px; 
            width: max-content;
            max-width: 90%;
            white-space: normal;
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <button class="nav-btn prevBtn" onclick="changePage(-1)">ä¸Šä¸€é¡µ</button>
        <div class="page-badge pageIndicator">1 / 6</div>
        <button class="nav-btn nextBtn" onclick="changePage(1)">ä¸‹ä¸€é¡µ</button>
        
        <div style="width: 1px; height: 30px; background: #eee; margin: 0 5px;"></div>
        
        <div class="config-item">
            <span style="font-size:20px;">è¯‘</span>
            <input type="checkbox" id="transToggle" checked style="width:22px;height:22px;accent-color:var(--green); cursor:pointer;">
        </div>
        <div class="config-item">
            <span class="icon-emoji">ğŸ¢</span>
            <input type="range" id="rate" min="0.5" max="1.5" step="0.1" value="0.9" style="width:80px;">
            <span class="icon-emoji">ğŸ°</span>
        </div>
        <div class="config-item">
            <select id="voiceSelect"></select>
        </div>
    </div>

    <div class="book-container" id="bookBox">
        <img id="bgImg" class="page-img" src="page1.png" alt="è¯¾æ–‡å›¾ç‰‡">
        <div id="transBubble" class="trans-popup"></div>
    </div>

    <div style="display:flex; align-items:center; gap:20px; margin-bottom: 30px;">
        <button class="nav-btn prevBtn" onclick="changePage(-1)">ä¸Šä¸€é¡µ</button>
        <div class="page-badge pageIndicator">1 / 6</div>
        <button class="nav-btn nextBtn" onclick="changePage(1)">ä¸‹ä¸€é¡µ</button>
    </div>

    <script>
        // --- Unit 8 æ•°æ® (In the kitchen) ---
        // åŒ…å«å®Œæ•´çš„ä¸­è‹±æ–‡å¯¹ç…§åŠåæ ‡
        const unitData = [
            {
                img: "page1.png",
                hotspots: [
                    { en: "Unit 8 In the kitchen", zh: "ç¬¬å…«å•å…ƒ åœ¨å¨æˆ¿é‡Œ", t: 4, l: 20, w: 50, h: 10 },
                    { en: "bread", zh: "é¢åŒ…", t: 52, l: 23, w: 10, h: 3 },
                    { en: "potato", zh: "åœŸè±†", t: 73, l: 50, w: 10, h: 3 },
                    { en: "tomato", zh: "è¥¿çº¢æŸ¿", t: 52, l: 80, w: 10, h: 3 },
                    { en: "Look at all the food I got.", zh: "çœ‹æˆ‘æ‹¿åˆ°çš„æ‰€æœ‰é£Ÿç‰©ã€‚", t: 79, l: 40, w: 55, h: 3 },
                    { en: "I'm cooking it all in the pot.", zh: "æˆ‘æ­£æŠŠå®ƒä»¬å…¨éƒ¨æ”¾åœ¨é”…é‡Œç…®ã€‚", t: 82, l: 40, w: 55, h: 3 },
                    { en: "Potatoes, tomatoes, eggs and meat.", zh: "åœŸè±†ã€è¥¿çº¢æŸ¿ã€é¸¡è›‹å’Œè‚‰ã€‚", t: 85, l: 40, w: 55, h: 3 },
                    { en: "Are you hungry? It's time to eat!", zh: "ä½ é¥¿äº†å—ï¼Ÿè¯¥åƒé¥­äº†ï¼", t: 88, l: 40, w: 55, h: 3 }
                ]
            },
            {
                img: "page2.png",
                hotspots: [
                    { en: "Big question. How can you help in the kitchen?", zh: "æ ¸å¿ƒé—®é¢˜ï¼šä½ èƒ½åœ¨å¨æˆ¿é‡Œå¦‚ä½•å¸®å¿™ï¼Ÿ", t: 8, l: 60, w: 35, h: 10 },
                    { en: "Learning objectives", zh: "å­¦ä¹ ç›®æ ‡", t: 23, l: 63, w: 30, h: 5 },
                    { en: "To say what someone is doing in the kitchen", zh: "è¯´å‡ºæŸäººåœ¨å¨æˆ¿é‡Œæ­£åœ¨åšä»€ä¹ˆ", t: 30, l: 63, w: 32, h: 6 },
                    { en: "To ask others what they are doing", zh: "è¯¢é—®åˆ«äººæ­£åœ¨åšä»€ä¹ˆ", t: 37, l: 63, w: 32, h: 6 },
                    { en: "To talk about how to cook a dish", zh: "è°ˆè®ºå¦‚ä½•çƒ¹é¥ªä¸€é“èœ", t: 44, l: 63, w: 32, h: 6 },
                    { en: "chicken", zh: "é¸¡è‚‰", t: 61, l: 39, w: 15, h: 4 },
                    { en: "egg", zh: "é¸¡è›‹", t: 87, l: 45, w: 12, h: 4 },
                    { en: "1 Look at the picture. What can you see? Where are the people?", zh: "çœ‹å›¾ã€‚ä½ èƒ½çœ‹åˆ°ä»€ä¹ˆï¼Ÿäººä»¬åœ¨å“ªé‡Œï¼Ÿ", t: 63, l: 63, w: 32, h: 10 },
                    { en: "2 Listen to the rhyme and chant along.", zh: "å¬æ­Œè°£å¹¶è·Ÿç€åŸå”±ã€‚", t: 74, l: 63, w: 32, h: 8 },
                    { en: "3 Think about answers to the big question.", zh: "æ€è€ƒæ ¸å¿ƒé—®é¢˜çš„ç­”æ¡ˆã€‚", t: 83, l: 63, w: 32, h: 8 }
                ]
            },
            {
                img: "page3.png",
                hotspots: [
                    { en: "Cartoon time", zh: "æ¼«ç”»æ—¶é—´", t: 10, l: 15, w: 30, h: 5 },
                    { en: "Sam's fish soup", zh: "è¨å§†çš„é±¼æ±¤", t: 15, l: 10, w: 35, h: 4 },
                    { en: "1 It's Dad's birthday today. I can cook fish soup for him!", zh: "ä»Šå¤©æ˜¯çˆ¸çˆ¸çš„ç”Ÿæ—¥ã€‚æˆ‘å¯ä»¥ä¸ºä»–åšé±¼æ±¤ï¼", t: 20, l: 14, w: 35, h: 8 },
                    { en: "2 Hi, Bobby!", zh: "å—¨ï¼Œæ³¢æ¯”ï¼", t: 40, l: 18, w: 15, h: 5 },
                    { en: "Hi, Sam! Look! I have a new book.", zh: "å—¨ï¼Œè¨å§†ï¼çœ‹ï¼æˆ‘æœ‰ä¸€æœ¬æ–°ä¹¦ã€‚", t: 53, l: 12, w: 30, h: 10 },
                    { en: "3 I like this book.", zh: "æˆ‘å–œæ¬¢è¿™æœ¬ä¹¦ã€‚", t: 40, l: 65, w: 22, h: 5 },
                    { en: "4 It's really fun.", zh: "å®ƒçœŸçš„å¾ˆæœ‰è¶£ã€‚", t: 53, l: 52, w: 20, h: 5 },
                    { en: "5 Sam, are you cooking fish?", zh: "è¨å§†ï¼Œä½ æ­£åœ¨ç…®é±¼å—ï¼Ÿ", t: 68, l: 32, w: 25, h: 8 },
                    { en: "Oh, my fish soup!", zh: "å™¢ï¼Œæˆ‘çš„é±¼æ±¤ï¼", t: 78, l: 5, w: 18, h: 8 },
                    { en: "6 Happy Birthday, Dad!", zh: "ç¥æ‚¨ç”Ÿæ—¥å¿«ä¹ï¼Œçˆ¸çˆ¸ï¼", t: 62, l: 60, w: 25, h: 5 },
                    { en: "Thank you! But be careful next time.", zh: "è°¢è°¢ï¼ä½†ä¸‹æ¬¡è¦å°å¿ƒç‚¹ã€‚", t: 80, l: 45, w: 30, h: 8 }
                ]
            },
            {
                img: "page4.png",
                hotspots: [
                    { en: "A Read and order", zh: "è¯»ä¸€è¯»å¹¶æ’åº", t: 11, l: 10, w: 40, h: 4 },
                    { en: "Sam and Bobby read the book.", zh: "è¨å§†å’Œæ³¢æ¯”è¯»ä¹¦ã€‚", t: 22, l: 24, w: 60, h: 3 },
                    { en: "Sam wants to cook fish soup for his dad.", zh: "è¨å§†æƒ³ä¸ºä»–çˆ¸çˆ¸ç…®é±¼æ±¤ã€‚", t: 25.5, l: 24, w: 60, h: 3 },
                    { en: "Sam is sorry about the fish soup.", zh: "è¨å§†å¯¹é±¼æ±¤æ„Ÿåˆ°æŠ±æ­‰ã€‚", t: 29, l: 24, w: 60, h: 3 },
                    { en: "Bobby shows Sam his new book.", zh: "æ³¢æ¯”ç»™è¨å§†çœ‹ä»–çš„æ–°ä¹¦ã€‚", t: 32.5, l: 24, w: 60, h: 3 },
                    { en: "B Act it out", zh: "æ¼”ä¸€æ¼”", t: 37, l: 10, w: 30, h: 3 },
                    { en: "C Imagine and say", zh: "æƒ³è±¡å¹¶è¯´ä¸€è¯´", t: 44, l: 10, w: 30, h: 3 },
                    { en: "Imagine you are cooking in the kitchen. Your friend shows a new book to you. What would you do?", zh: "æƒ³è±¡ä½ æ­£åœ¨å¨æˆ¿ç…®é¥­ã€‚æœ‹å‹ç»™ä½ çœ‹æ–°ä¹¦ã€‚ä½ ä¼šæ€ä¹ˆåšï¼Ÿ", t: 47, l: 10, w: 80, h: 6 },
                    { en: "Sounds in focus", zh: "è¯­éŸ³ç„¦ç‚¹", t: 56, l: 18, w: 30, h: 5 },
                    { en: "1 Listen to the sentences from the story and read.", zh: "å¬æ•…äº‹é‡Œçš„å¥å­å¹¶æœ—è¯»ã€‚", t: 62, l: 10, w: 70, h: 3 },
                    { en: "Happy Birthday, Dad!", zh: "ç¥æ‚¨ç”Ÿæ—¥å¿«ä¹ï¼Œçˆ¸çˆ¸ï¼", t: 65, l: 15, w: 30, h: 4 },
                    { en: "Oh, my fish soup!", zh: "å™¢ï¼Œæˆ‘çš„é±¼æ±¤ï¼", t: 65, l: 52, w: 30, h: 4 },
                    { en: "2 Listen to the rhyme and chant along. Then find more words.", zh: "å¬æ­Œè°£å¹¶åŸå”±ã€‚ç„¶åæ‰¾å‡ºæ›´å¤šå•è¯ã€‚", t: 69, l: 10, w: 80, h: 3 },
                    { en: "It's eleven thirty.", zh: "ç°åœ¨æ˜¯åä¸€ç‚¹åŠã€‚", t: 74, l: 14, w: 45, h: 3 },
                    { en: "I'm cooking with my family.", zh: "æˆ‘æ­£å’Œå®¶äººä¸€èµ·ç…®é¥­ã€‚", t: 77, l: 14, w: 45, h: 3 },
                    { en: "We try to do it carefully.", zh: "æˆ‘ä»¬åŠªåŠ›ç»†å¿ƒåœ°åšã€‚", t: 80, l: 14, w: 45, h: 3 },
                    { en: "We're busy but happy.", zh: "æˆ‘ä»¬å¾ˆå¿™ä½†å¾ˆå¿«ä¹ã€‚", t: 83, l: 14, w: 45, h: 3 },
                    { en: "thirty", zh: "ä¸‰å", t: 87, l: 20, w: 10, h: 4 },
                    { en: "my", zh: "æˆ‘çš„", t: 87, l: 54, w: 10, h: 4 }
                ]
            },
            {
                img: "page5.png",
                hotspots: [
                    { en: "Story time", zh: "æ•…äº‹æ—¶é—´", t: 10, l: 15, w: 30, h: 5 },
                    { en: "A happy dinner", zh: "ä¸€é¡¿å¿«ä¹çš„æ™šé¤", t: 16, l: 10, w: 40, h: 4 },
                    { en: "1 Are you cooking dinner, Mum?", zh: "å¦ˆå¦ˆï¼Œæ‚¨æ­£åœ¨ç…®æ™šé¥­å—ï¼Ÿ", t: 22, l: 20, w: 35, h: 5 },
                    { en: "Yes, I am. I'm cutting the potatoes.", zh: "æ˜¯çš„ã€‚æˆ‘æ­£åœ¨åˆ‡åœŸè±†ã€‚", t: 33, l: 8, w: 25, h: 8 },
                    { en: "2 You're busy. Can I help you?", zh: "æ‚¨å¾ˆå¿™ã€‚æˆ‘èƒ½å¸®æ‚¨å—ï¼Ÿ", t: 45, l: 16, w: 20, h: 8 },
                    { en: "OK, Mum.", zh: "å¥½çš„ï¼Œå¦ˆå¦ˆã€‚", t: 56, l: 14, w: 12, h: 4 },
                    { en: "Yes. Wash the tomatoes, please.", zh: "å¥½çš„ã€‚è¯·æ´—ä¸€ä¸‹è¥¿çº¢æŸ¿ã€‚", t: 48, l: 58, w: 22, h: 8 },
                    { en: "3 Are you cooking meat, Dad?", zh: "çˆ¸çˆ¸ï¼Œæ‚¨æ­£åœ¨ç…®è‚‰å—ï¼Ÿ", t: 65, l: 16, w: 20, h: 8 },
                    { en: "Yes. I'm cooking Kung Pao Chicken.", zh: "æ˜¯çš„ã€‚æˆ‘æ­£åœ¨åšå®«ä¿é¸¡ä¸ã€‚", t: 69, l: 58, w: 25, h: 8 },
                    { en: "Great! I can't wait! Let me get a dish for you.", zh: "å¤ªæ£’äº†ï¼æˆ‘ç­‰ä¸åŠäº†ï¼è®©æˆ‘ä¸ºæ‚¨æ‹¿ä¸ªç›˜å­ã€‚", t: 74, l: 8, w: 25, h: 9 },
                    { en: "Thank you, Taotao.", zh: "è°¢è°¢ä½ ï¼Œæ¶›æ¶›ã€‚", t: 81, l: 60, w: 25, h: 4 }
                ]
            },
            {
                img: "page6.png",
                hotspots: [
                    { en: "4 How's the chicken, Taotao?", zh: "æ¶›æ¶›ï¼Œé¸¡è‚‰æ€ä¹ˆæ ·ï¼Ÿ", t: 13, l: 18, w: 22, h: 6 },
                    { en: "It's delicious, Dad. You're a great cook!", zh: "çœŸå¥½åƒï¼Œçˆ¸çˆ¸ã€‚æ‚¨æ˜¯ä¸ªä¼Ÿå¤§çš„å¨å¸ˆï¼", t: 16, l: 63, w: 25, h: 8 },
                    { en: "5 How are the potatoes, Haohao?", zh: "å¥½å¥½ï¼ŒåœŸè±†æ€ä¹ˆæ ·ï¼Ÿ", t: 35, l: 13, w: 25, h: 8 },
                    { en: "They're nice. I love potatoes!", zh: "å®ƒä»¬å¾ˆå¥½åƒã€‚æˆ‘çˆ±åœŸè±†ï¼", t: 39, l: 44, w: 28, h: 6 },
                    { en: "Try some tomato and egg soup, Dad and Mum.", zh: "çˆ¸çˆ¸å¦ˆå¦ˆï¼Œå°å°è¥¿çº¢æŸ¿é¸¡è›‹æ±¤ã€‚", t: 49, l: 18, w: 35, h: 8 },
                    { en: "Thanks!", zh: "è°¢è°¢ï¼", t: 75, l: 52, w: 12, h: 4 },
                    { en: "How does Liu Tao help in the kitchen?", zh: "åˆ˜æ¶›åœ¨å¨æˆ¿é‡Œæ˜¯å¦‚ä½•å¸®å¿™çš„ï¼Ÿ", t: 77, l: 15, w: 35, h: 8 },
                    { en: "cook, cooking, wash, washing, make, making, take, taking, cut, cutting, swim, swimming", zh: "çƒ¹é¥ª(è¿›è¡Œæ—¶)...", t: 85, l: 15, w: 70, h: 8 }
                ]
            }
        ];

        let pIdx = 0;
        const synth = window.speechSynthesis;

        window.onload = () => { 
            loadVoices(); 
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            render(); 
        };

        function loadVoices() {
            const voices = synth.getVoices().filter(v => v.lang.includes('en'));
            const select = document.getElementById('voiceSelect');
            if(voices.length > 0) {
                select.innerHTML = voices.map((v, i) => `<option value="${i}">${v.name.substring(0,15)}</option>`).join('');
            } else {
                select.innerHTML = '<option>é»˜è®¤å£°éŸ³</option>';
            }
        }

        function render() {
            const data = unitData[pIdx];
            document.getElementById('bgImg').src = data.img;
            document.querySelectorAll('.pageIndicator').forEach(el => el.innerText = (pIdx + 1) + " / " + unitData.length);
            document.querySelectorAll('.prevBtn').forEach(btn => btn.disabled = (pIdx === 0));
            document.querySelectorAll('.nextBtn').forEach(btn => btn.disabled = (pIdx === unitData.length - 1));
            
            document.getElementById('transBubble').style.display = "none";
            document.querySelectorAll('.hotspot').forEach(h => h.remove());

            data.hotspots.forEach(item => {
                const div = document.createElement('div');
                div.className = 'hotspot';
                div.style.top = item.t + "%"; 
                div.style.left = item.l + "%"; 
                div.style.width = item.w + "%"; 
                div.style.height = item.h + "%";
                
                div.onclick = function() {
                    synth.cancel();
                    const cleanText = item.en.replace(/^([0-9A-Z]+[\.\s]\s*)+/g, "").trim();
                    const utter = new SpeechSynthesisUtterance(cleanText);
                    utter.rate = document.getElementById('rate').value;
                    const voices = synth.getVoices().filter(v => v.lang.includes('en'));
                    const selIdx = document.getElementById('voiceSelect').value;
                    if(voices[selIdx]) utter.voice = voices[selIdx];
                    synth.speak(utter);

                    if(document.getElementById('transToggle').checked) {
                        const b = document.getElementById('transBubble');
                        b.innerText = item.zh;
                        b.style.display = "block";
                        b.style.left = (item.l + item.w/2) + "%";
                        
                        // æ™ºèƒ½åˆ¤æ–­ï¼šå¦‚æœå¥å­ä½ç½®åœ¨é¡µé¢é¡¶éƒ¨ (<20%)ï¼Œæ°”æ³¡å°±å¾€ä¸‹å¼¹
                        if(item.t < 20) {
                            b.style.top = (item.t + item.h + 0.5) + "%";
                            b.style.bottom = "auto";
                        } else {
                            b.style.top = "auto";
                            b.style.bottom = (100 - item.t + 2) + "%"; 
                        }
                    }
                };
                document.getElementById('bookBox').appendChild(div);
            });
        }

        function changePage(step) { 
            pIdx = Math.max(0, Math.min(unitData.length - 1, pIdx + step)); 
            window.scrollTo({top:0, behavior:'smooth'}); 
            render(); 
        }
    </script>
</body>
</html>