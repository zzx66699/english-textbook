<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Unit 7 ç”µè„‘ä¸“ç”¨ç‰ˆ</title>
    <style>
        /* --- åŸºç¡€æ ·å¼ --- */
        :root { --pink: #ffdae0; --blue: #c0e8ff; --green: #d1f4e0; --yellow: #fff2cc; --text: #5d4037; --soft-white: #f5f5f5; --nav-bg: #ffffff; }
        body { font-family: "Comic Sans MS", "å¹¼åœ†", sans-serif; background: var(--soft-white); margin: 0; display: flex; flex-direction: column; align-items: center; color: var(--text); padding-bottom: 60px; -webkit-tap-highlight-color: transparent; user-select: none; }
        
        /* é¡¶éƒ¨æ  */
        .top-bar { width: 96vw; max-width: 800px; background: var(--nav-bg); padding: 15px 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; align-items: center; border: 4px solid var(--green); border-top: none; border-radius: 0 0 20px 20px; position: sticky; top: 0; z-index: 200; box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        
        /* æŒ‰é’® */
        .nav-btn { background: var(--pink); border: 3px solid #fff; color: #d84315; padding: 8px 24px; border-radius: 25px; cursor: pointer; font-size: 16px; font-weight: 900; box-shadow: 0 4px 0 #ffab91; transition: all 0.1s; }
        .nav-btn:active { transform: translateY(4px); box-shadow: none; }
        .nav-btn:disabled { background: #eeeeee; box-shadow: none; color: #ccc; cursor: not-allowed; border-color:#eee;}
        
        /* é…ç½®é¡¹ */
        .config-item { display: flex; align-items: center; gap: 8px; font-size: 18px; font-weight: bold; }
        .icon-emoji { font-size: 28px; line-height: 1; }
        
        /* å£°éŸ³é€‰æ‹©æ¡† */
        select { border: 3px solid var(--blue); border-radius: 12px; padding: 8px 5px; font-size: 16px; font-weight: bold; color: #555; max-width: 140px; outline: none; background: #fff; }
        
        /* é¡µç  */
        .page-badge { background: var(--yellow); padding: 8px 20px; border-radius: 20px; color: #f9a825; font-weight: 900; font-size: 18px; border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        /* æ»‘å— */
        input[type=range] { transform: scale(1.2); margin: 0 5px; accent-color: var(--pink); cursor: pointer; }
        
        /* ä¹¦æœ¬å®¹å™¨ */
        .book-container { position: relative; width: 96vw; max-width: 800px; aspect-ratio: 780 / 1100; margin: 20px 0; background: #ffffff; border: 8px solid var(--green); border-radius: 20px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .page-img { width: 100%; height: 100%; position: absolute; top: 0; left: 0; object-fit: fill; }
        
        /* çƒ­ç‚¹åŒºåŸŸ */
        .hotspot { position: absolute; cursor: pointer; z-index: 10; border-radius: 8px; }
        .hotspot:active { background: rgba(255, 255, 0, 0.3); } 
        
        /* --- ç¿»è¯‘æ°”æ³¡ (ç¿»è¯‘ç½®é¡¶é€»è¾‘) --- */
        .trans-popup { 
            position: absolute; 
            background: rgba(255, 255, 255, 0.95); 
            border: 3px solid var(--pink); 
            border-radius: 15px; 
            padding: 10px 15px; 
            color: #d84315; 
            font-weight: bold; 
            font-size: 18px; 
            pointer-events: none; /* ç‚¹å‡»ç©¿é€ */
            z-index: 100; 
            transform: translateX(-50%); 
            display: none; 
            text-align: center; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
            min-width: 120px; 
            width: max-content;
            max-width: 90%;
            white-space: normal;
        }
    </style>
</head>
<body>

    <div class="top-bar">
        <button class="nav-btn prevBtn" onclick="changePage(-1)">ä¸Šä¸€é¡µ</button>
        <div class="page-badge pageIndicator">1 / 6</div>
        <button class="nav-btn nextBtn" onclick="changePage(1)">ä¸‹ä¸€é¡µ</button>
        
        <div style="width: 1px; height: 30px; background: #eee; margin: 0 5px;"></div>
        
        <div class="config-item">
            <span style="font-size:20px;">è¯‘</span>
            <input type="checkbox" id="transToggle" checked style="width:22px;height:22px;accent-color:var(--green); cursor:pointer;">
        </div>
        <div class="config-item">
            <span class="icon-emoji">ğŸ¢</span>
            <input type="range" id="rate" min="0.5" max="1.5" step="0.1" value="0.9" style="width:80px;">
            <span class="icon-emoji">ğŸ°</span>
        </div>
        <div class="config-item">
            <select id="voiceSelect"></select>
        </div>
    </div>

    <div class="book-container" id="bookBox">
        <img id="bgImg" class="page-img" src="page1.png" alt="è¯¾æ–‡å›¾ç‰‡">
        <div id="transBubble" class="trans-popup"></div>
    </div>

    <div style="display:flex; align-items:center; gap:20px; margin-bottom: 30px;">
        <button class="nav-btn prevBtn" onclick="changePage(-1)">ä¸Šä¸€é¡µ</button>
        <div class="page-badge pageIndicator">1 / 6</div>
        <button class="nav-btn nextBtn" onclick="changePage(1)">ä¸‹ä¸€é¡µ</button>
    </div>

    <script>
        // --- Unit 7 æ•°æ® (Chores) ---
        // åŒ…å«å®Œæ•´çš„ä¸­è‹±æ–‡å¯¹ç…§åŠåæ ‡
        const unitData = [
            {
                img: "page1.png",
                hotspots: [
                    { en: "Unit 7 Chores", zh: "ç¬¬ä¸ƒå•å…ƒ å®¶åŠ¡", t: 4, l: 20, w: 35, h: 10 },
                    { en: "wash the clothes", zh: "æ´—è¡£æœ", t: 60, l: 15, w: 25, h: 4 },
                    { en: "wash the dishes", zh: "æ´—ç¢—", t: 36, l: 70, w: 25, h: 4 },
                    { en: "water the flowers", zh: "æµ‡èŠ±", t: 70, l: 70, w: 25, h: 4 },
                    { en: "My family has a good routine.", zh: "æˆ‘çš„å®¶äººæœ‰å¾ˆå¥½çš„æ—¥å¸¸ç”Ÿæ´»ä¹ æƒ¯ã€‚", t: 73, l: 13, w: 50, h: 3 },
                    { en: "To keep our home lovely and clean.", zh: "ä¸ºäº†ä¿æŒæˆ‘ä»¬çš„å®¶å¯çˆ±åˆæ•´æ´ã€‚", t: 76, l: 13, w: 50, h: 3 },
                    { en: "I make my bed and feed the cat.", zh: "æˆ‘é“ºåºŠå¹¶å–‚çŒ«ã€‚", t: 79, l: 13, w: 50, h: 3 },
                    { en: "I'm good at doing chores like that!", zh: "æˆ‘æ“…é•¿åšé‚£æ ·çš„å®¶åŠ¡ï¼", t: 82, l: 13, w: 50, h: 3 },
                    { en: "My sister helps Dad wash the car.", zh: "æˆ‘å§å§å¸®åŠ©çˆ¸çˆ¸æ´—è½¦ã€‚", t: 85, l: 13, w: 50, h: 3 },
                    { en: "What a wonderful team we are.", zh: "æˆ‘ä»¬æ˜¯å¤šä¹ˆæ£’çš„ä¸€ä¸ªå›¢é˜Ÿå•Šã€‚", t: 88, l: 13, w: 50, h: 3 }
                ]
            },
            {
                img: "page2.png",
                hotspots: [
                    { en: "Big question. What chores can you do at home?", zh: "æ ¸å¿ƒé—®é¢˜ï¼šä½ åœ¨å®¶èƒ½åšå“ªäº›å®¶åŠ¡ï¼Ÿ", t: 9, l: 60, w: 35, h: 10 },
                    { en: "Learning objectives", zh: "å­¦ä¹ ç›®æ ‡", t: 25, l: 65, w: 25, h: 5 },
                    { en: "To talk about doing chores", zh: "è°ˆè®ºåšå®¶åŠ¡", t: 34, l: 62, w: 32, h: 5 },
                    { en: "To make a chore table", zh: "åˆ¶ä½œå®¶åŠ¡è¡¨", t: 41, l: 62, w: 32, h: 5 },
                    { en: "To say what chores I can do at home", zh: "è¯´å‡ºæˆ‘åœ¨å®¶èƒ½åšçš„å®¶åŠ¡", t: 46, l: 62, w: 32, h: 5 },
                    { en: "cook lunch", zh: "åšåˆé¥­", t: 28, l: 20, w: 15, h: 3 },
                    { en: "make the bed", zh: "æ•´ç†åºŠé“º", t: 38, l: 35, w: 18, h: 3 },
                    { en: "sweep the floor", zh: "æ‰«åœ°", t: 62, l: 12, w: 18, h: 3 },
                    { en: "feed the cat", zh: "å–‚çŒ«", t: 74, l: 25, w: 15, h: 3 },
                    { en: "1 Look at the picture. What are the people doing?", zh: "çœ‹å›¾ã€‚äººä»¬åœ¨åšä»€ä¹ˆï¼Ÿ", t: 65, l: 62, w: 32, h: 8 },
                    { en: "2 Listen to the rhyme and chant along.", zh: "å¬æ­Œè°£å¹¶è·Ÿç€åŸå”±ã€‚", t: 76, l: 62, w: 32, h: 5 },
                    { en: "3 Think about answers to the big question.", zh: "æ€è€ƒæ ¸å¿ƒé—®é¢˜çš„ç­”æ¡ˆã€‚", t: 83, l: 62, w: 32, h: 5 }
                ]
            },
            {
                img: "page3.png",
                hotspots: [
                    { en: "Cartoon time", zh: "æ¼«ç”»æ—¶é—´", t: 10, l: 15, w: 30, h: 5 },
                    { en: "Good job!", zh: "åšå¾—å¥½ï¼", t: 16, l: 10, w: 20, h: 4 },
                    { en: "1 It's Sunday. Let's do some chores.", zh: "ä»Šå¤©æ˜¯æ˜ŸæœŸå¤©ã€‚æˆ‘ä»¬è¦å¹²ç‚¹å®¶åŠ¡æ´»ã€‚", t: 21, l: 15, w: 28, h: 6 },
                    { en: "Good idea!", zh: "å¥½ä¸»æ„ï¼", t: 36, l: 33, w: 15, h: 4 },
                    { en: "2 Bobby, what are you doing?", zh: "æ³¢æ¯”ï¼Œä½ åœ¨åšä»€ä¹ˆï¼Ÿ", t: 20, l: 57, w: 22, h: 5 },
                    { en: "I'm washing the dishes.", zh: "æˆ‘åœ¨æ´—ç¢—ã€‚", t: 34, l: 68, w: 20, h: 6 },
                    { en: "3 Oh no!", zh: "å™¢ï¼Œä¸ï¼", t: 43, l: 30, w: 10, h: 4 },
                    { en: "4 What are you doing now?", zh: "ä½ ç°åœ¨åœ¨åšä»€ä¹ˆï¼Ÿ", t: 43, l: 55, w: 30, h: 4 },
                    { en: "I'm washing the clothes.", zh: "æˆ‘åœ¨æ´—è¡£æœã€‚", t: 60, l: 55, w: 30, h: 4 },
                    { en: "5 I'm watering the flowers.", zh: "æˆ‘åœ¨æµ‡èŠ±ã€‚", t: 65, l: 14, w: 30, h: 4 },
                    { en: "You're watering the floor!", zh: "ä½ åœ¨æµ‡åœ°æ¿ï¼", t: 75, l: 33, w: 20, h: 5 },
                    { en: "6 What a clean house!", zh: "å¤šä¹ˆå¹²å‡€çš„æˆ¿å­å•Šï¼", t: 67, l: 60, w: 25, h: 4 },
                    { en: "Good job!", zh: "å¹²å¾—å¥½ï¼", t: 85, l: 66, w: 15, h: 4 },
                    { en: "What chores does Bobby do at home?", zh: "æ³¢æ¯”åœ¨å®¶åšä»€ä¹ˆå®¶åŠ¡ï¼Ÿ", t: 89, l: 15, w: 45, h: 4 }
                ]
            },
            {
                img: "page4.png",
                hotspots: [
                    { en: "A Read, match and order", zh: "è¯»ä¸€è¯»ï¼Œè¿ä¸€è¿å¹¶æ’åº", t: 11, l: 10, w: 40, h: 3 },
                    { en: "What is Bobby doing?", zh: "æ³¢æ¯”æ­£åœ¨åšä»€ä¹ˆï¼Ÿ", t: 15, l: 10, w: 30, h: 3 },
                    { en: "He is watering the flowers.", zh: "ä»–æ­£åœ¨æµ‡èŠ±ã€‚", t: 33, l: 18, w: 20, h: 5 },
                    { en: "He is washing the dishes.", zh: "ä»–æ­£åœ¨æ´—ç¢—ã€‚", t: 33, l: 41, w: 20, h: 5 },
                    { en: "He is washing the clothes.", zh: "ä»–æ­£åœ¨æ´—è¡£æœã€‚", t: 33, l: 63, w: 20, h: 5 },
                    { en: "B Do a role-play", zh: "åšè§’è‰²æ‰®æ¼”", t: 40, l: 10, w: 30, h: 3 },
                    { en: "What are you doing, Bobby?", zh: "ä½ æ­£åœ¨åšä»€ä¹ˆï¼Œæ³¢æ¯”ï¼Ÿ", t: 46, l: 24, w: 35, h: 4 },
                    { en: "C Think and say", zh: "æƒ³ä¸€æƒ³ï¼Œè¯´ä¸€è¯´", t: 52, l: 10, w: 30, h: 3 },
                    { en: "1 Do you think Bobby does these chores well?", zh: "ä½ è§‰å¾—æ³¢æ¯”åšè¿™äº›å®¶åŠ¡åšå¾—å¥½å—ï¼Ÿ", t: 55, l: 10, w: 80, h: 4 },
                    { en: "2 What chores do you do at home?", zh: "ä½ åœ¨å®¶åšå“ªäº›å®¶åŠ¡ï¼Ÿ", t: 59, l: 10, w: 80, h: 4 },
                    { en: "Sounds in focus", zh: "è¯­éŸ³ç„¦ç‚¹", t: 63, l: 20, w: 30, h: 5 },
                    { en: "1 Listen to the sentence from the story and read.", zh: "å¬æ•…äº‹é‡Œçš„å¥å­å¹¶æœ—è¯»ã€‚", t: 67, l: 10, w: 60, h: 3 },
                    { en: "Bobby, what are you doing?", zh: "æ³¢æ¯”ï¼Œä½ æ­£åœ¨åšä»€ä¹ˆï¼Ÿ", t: 70, l: 14, w: 60, h: 3 },
                    { en: "2 Listen to the rhyme and chant along. Then find more words.", zh: "å¬æ­Œè°£å¹¶åŸå”±ã€‚ç„¶åæ‰¾å‡ºæ›´å¤šå•è¯ã€‚", t: 73, l: 10, w: 80, h: 3 },
                    { en: "Can you water the yellow flowers?", zh: "ä½ èƒ½ç»™é‚£äº›é»„è‰²çš„èŠ±æµ‡æ°´å—ï¼Ÿ", t: 79, l: 14, w: 45, h: 3 },
                    { en: "They grow in the garden by the wall.", zh: "å®ƒä»¬é•¿åœ¨å¢™è¾¹çš„èŠ±å›­é‡Œã€‚", t: 82, l: 14, w: 45, h: 3 },
                    { en: "Yes, I can. Yes, I can.", zh: "æ˜¯çš„ï¼Œæˆ‘èƒ½ã€‚æ˜¯çš„ï¼Œæˆ‘èƒ½ã€‚", t: 85, l: 14, w: 45, h: 3 },
                    { en: "They're so beautiful. They're so tall.", zh: "å®ƒä»¬çœŸæ¼‚äº®ã€‚å®ƒä»¬çœŸé«˜ã€‚", t: 88, l: 14, w: 45, h: 3 }
                ]
            },
            {
                img: "page5.png",
                hotspots: [
                    { en: "Story time", zh: "æ•…äº‹æ—¶é—´", t: 10, l: 15, w: 30, h: 5 },
                    { en: "A busy weekend", zh: "å¿™ç¢Œçš„å‘¨æœ«", t: 16, l: 13, w: 40, h: 4 },
                    { en: "1 It's Saturday. Mum and Dad are doing chores. Mum is cooking lunch. Dad is washing the clothes.", zh: "ä»Šå¤©æ˜¯æ˜ŸæœŸå…­ã€‚çˆ¸çˆ¸å¦ˆå¦ˆåœ¨åšå®¶åŠ¡ã€‚å¦ˆå¦ˆåœ¨åšåˆé¥­ã€‚çˆ¸çˆ¸åœ¨æ´—è¡£æœã€‚", t: 20, l: 15, w: 75, h: 6 },
                    { en: "2 Su Yang and I are also doing chores. We're part of the family, so we want to help.", zh: "è‹é˜³å’Œæˆ‘ä¹Ÿåœ¨åšå®¶åŠ¡ã€‚æˆ‘ä»¬æ˜¯å®¶åº­çš„ä¸€ä»½å­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¸®å¿™ã€‚", t: 53, l: 15, w: 75, h: 6 },
                    { en: "Su Yang is watering the flowers. What am I doing? I'm making the bed.", zh: "è‹é˜³åœ¨æµ‡èŠ±ã€‚æˆ‘åœ¨åšä»€ä¹ˆï¼Ÿæˆ‘åœ¨æ•´ç†åºŠé“ºã€‚", t: 58, l: 15, w: 75, h: 4 },
                    { en: "Note -ing.", zh: "æ³¨æ„ -ing ç»“å°¾ã€‚", t: 89, l: 56, w: 30, h: 4 }
                ]
            },
            {
                img: "page6.png",
                hotspots: [
                    { en: "3 It's half past twelve. It's after lunch. Mum is cleaning the table. Su Yang is washing the dishes. I'm feeding our cat.", zh: "ç°åœ¨æ˜¯åäºŒç‚¹åŠã€‚åˆé¥­åã€‚å¦ˆå¦ˆåœ¨æ“¦æ¡Œå­ã€‚è‹é˜³åœ¨æ´—ç¢—ã€‚æˆ‘æ­£åœ¨å–‚çŒ«ã€‚", t: 12, l: 15, w: 75, h: 6 },
                    { en: "4 Our home is clean and nice now. We have a busy weekend, but we all feel happy.", zh: "æˆ‘ä»¬çš„å®¶ç°åœ¨å¹²å‡€åˆæ¼‚äº®ã€‚æˆ‘ä»¬åº¦è¿‡äº†ä¸€ä¸ªå¿™ç¢Œçš„å‘¨æœ«ï¼Œä½†æˆ‘ä»¬éƒ½æ„Ÿåˆ°å¾ˆé«˜å…´ã€‚", t: 52, l: 15, w: 75, h: 5 },
                    { en: "What chores do the family do at home?", zh: "å®¶äººä»¬åœ¨å®¶åšä»€ä¹ˆå®¶åŠ¡ï¼Ÿ", t: 88, l: 15, w: 50, h: 4 }
                ]
            }
        ];

        let pIdx = 0;
        const synth = window.speechSynthesis;

        window.onload = () => { 
            loadVoices(); 
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = loadVoices;
            }
            render(); 
        };

        function loadVoices() {
            const voices = synth.getVoices().filter(v => v.lang.includes('en'));
            const select = document.getElementById('voiceSelect');
            if(voices.length > 0) {
                select.innerHTML = voices.map((v, i) => `<option value="${i}">${v.name.substring(0,15)}</option>`).join('');
            } else {
                select.innerHTML = '<option>é»˜è®¤å£°éŸ³</option>';
            }
        }

        function render() {
            const data = unitData[pIdx];
            document.getElementById('bgImg').src = data.img;
            document.querySelectorAll('.pageIndicator').forEach(el => el.innerText = (pIdx + 1) + " / " + unitData.length);
            document.querySelectorAll('.prevBtn').forEach(btn => btn.disabled = (pIdx === 0));
            document.querySelectorAll('.nextBtn').forEach(btn => btn.disabled = (pIdx === unitData.length - 1));
            
            document.getElementById('transBubble').style.display = "none";
            document.querySelectorAll('.hotspot').forEach(h => h.remove());

            data.hotspots.forEach(item => {
                const div = document.createElement('div');
                div.className = 'hotspot';
                div.style.top = item.t + "%"; 
                div.style.left = item.l + "%"; 
                div.style.width = item.w + "%"; 
                div.style.height = item.h + "%";
                
                div.onclick = function() {
                    synth.cancel();
                    const cleanText = item.en.replace(/^([0-9A-Z]+[\.\s]\s*)+/g, "").trim();
                    const utter = new SpeechSynthesisUtterance(cleanText);
                    utter.rate = document.getElementById('rate').value;
                    const voices = synth.getVoices().filter(v => v.lang.includes('en'));
                    const selIdx = document.getElementById('voiceSelect').value;
                    if(voices[selIdx]) utter.voice = voices[selIdx];
                    synth.speak(utter);

                    if(document.getElementById('transToggle').checked) {
                        const b = document.getElementById('transBubble');
                        b.innerText = item.zh;
                        b.style.display = "block";
                        b.style.left = (item.l + item.w/2) + "%";
                        
                        // æ™ºèƒ½åˆ¤æ–­ï¼šå¦‚æœå¥å­ä½ç½®åœ¨é¡µé¢é¡¶éƒ¨ (<20%)ï¼Œæ°”æ³¡å°±å¾€ä¸‹å¼¹
                        if(item.t < 20) {
                            b.style.top = (item.t + item.h + 0.5) + "%";
                            b.style.bottom = "auto";
                        } else {
                            b.style.top = "auto";
                            b.style.bottom = (100 - item.t + 2) + "%"; 
                        }
                    }
                };
                document.getElementById('bookBox').appendChild(div);
            });
        }

        function changePage(step) { 
            pIdx = Math.max(0, Math.min(unitData.length - 1, pIdx + step)); 
            window.scrollTo({top:0, behavior:'smooth'}); 
            render(); 
        }
    </script>
</body>
</html>